apiVersion: v1
kind: ConfigMap
metadata:
  name: plane-config
  namespace: plane
data:
  # Database
  POSTGRES_USER: "plane"
  POSTGRES_DB: "plane"
  POSTGRES_HOST: "plane-db"
  POSTGRES_PORT: "5432"
  PGDATA: "/var/lib/postgresql/data"

  # Redis
  REDIS_HOST: "plane-redis"
  REDIS_PORT: "6379"
  REDIS_URL: "redis://plane-redis:6379/"

  # RabbitMQ
  RABBITMQ_HOST: "plane-mq"
  RABBITMQ_PORT: "5672"
  RABBITMQ_DEFAULT_USER: "plane"
  RABBITMQ_DEFAULT_VHOST: "plane"
  AMQP_URL: "amqp://plane:plane@plane-mq:5672/plane"

  # MinIO / S3
  AWS_REGION: "us-east-1"
  AWS_S3_ENDPOINT_URL: "http://plane-minio:9000"
  AWS_S3_BUCKET_NAME: "plane"
  USE_MINIO: "1"

  # Application URLs
  WEB_URL: "http://192.168.0.4:30002"
  CORS_ALLOWED_ORIGINS: "http://192.168.0.4:30002"

  # App Settings
  DEBUG: "0"
  SENTRY_DSN: ""
  SENTRY_ENVIRONMENT: "production"

  # Security
  ENABLE_SIGNUP: "1"
  ENABLE_EMAIL_PASSWORD: "1"
  ENABLE_MAGIC_LINK_LOGIN: "0"

  # File Upload
  FILE_SIZE_LIMIT: "5242880"

  # Gunicorn Workers
  GUNICORN_WORKERS: "2"
